<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LogicPatch - Calendar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"/>
    <link rel="stylesheet" href="css/evo-calendar.min.css">
    <link rel="stylesheet" href="css/evo-calendar.midnight-blue.min.css">
    <link rel="stylesheet" href="css/homepage.css"/>
    <link rel="icon" href="images/icon.ico">
  </head>
  <body>
    <%- include('partials/header') %> 
    
    <div id="eventsLength" data-config="<%= events.length %> "></div>
    <!-- since data cannot be passed between ejs and script js, placing them within html divs is an alternative solution here -->
    <!-- these are all the necessary data on the events to add them onto the calendar -->
    <% for(var i = 0; i < events.length; i++){ %> 
      <div id="eventTitle<%= i %>" data-config='<%= events[i].eventTitle %>'></div>
      <div id="eventDescription<%= i %>" data-config='<%= events[i].eventDescription %>'></div>
      <div id="eventDate<%= i %>" data-config='<%= events[i].date %>'></div>
      <% if(events[i].availablePlayers.length < events[i].attendance){ %>
        <div id="attendance<%= i %>" data-config='false'></div>
      <% } else{ %>
        <div id="attendance<%= i %>" data-config='true'></div>
      <% } %> 

    <% } %> 
    <!-- renders the calendar -->
    <div id="calendar"></div>
  
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/evo-calendar@1.1.2/evo-calendar/js/evo-calendar.min.js"></script>
    <!-- loads javascript file that initializes the calendar and adds the events -->
    <script src="js/calendar.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  </body>
</html>